<div class="booking-page">
  <app-booking-header></app-booking-header>

  <div class="booking-card">
    <p class="subtext" *ngIf="roomTypesState().loading">
      Loading room details...
    </p>
    <p class="subtext error-text" *ngIf="roomTypesState().error">
      Failed to load room details: {{ roomTypesState().error }}
    </p>
    <p
      class="subtext"
      *ngIf="!roomTypesState().loading && !roomTypesState().error && !selectedRoom()"
    >
      Room type not found. Please go back and try again.
    </p>

    <div
      class="booking-grid"
      *ngIf="!roomTypesState().loading && !roomTypesState().error && selectedRoom()"
    >
      <app-booking-summary [room]="selectedRoom()"></app-booking-summary>
      <app-booking-form
        [bookingForm]="bookingForm"
        [today]="today"
        [minCheckOutDate]="minCheckOutDate"
        [totalPrice]="totalPrice"
        [checking]="checking"
        [availabilityError]="availabilityError"
        [availability]="availability"
        [bookingButtonDisabled]="bookingButtonDisabled"
        [submitting]="submitting"
        (phoneInput)="onPhoneInput($event)"
        (submit)="handleSubmit()"
      ></app-booking-form>
    </div>
  </div>
</div>
